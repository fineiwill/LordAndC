!function(t,e){"function"==typeof define&&define.amd?define("frontAPI",[],e):"object"==typeof module&&module.exports?module.exports=e():t.frontAPI?t["frontAPI"+e().getVersion().replace(/\./g,"")]=e():t.frontAPI=e()}(window,function(t){var e,n,r;function o(){return window.Shop&&Shop.values&&Shop.values.currency||"PLN"}function a(){return window.Shop&&Shop.lang&&Shop.lang.name||"pl_PL"}function i(t,e){var n,r,i;return r=t,i={id:e.id||"",lang:e.lang||a(),currency:e.currency||o(),search:e.search||""},n=r.replace(/\{(.+?)\}/g,function(t,e){return e in i?i[e]:t}),e.urlParams&&(n+=e.urlParams),n}function u(t,e,o,a){if("function"!=typeof o&&(o=!1),(a=a||{}).data&&(a.data=JSON.stringify(a.data)),!0===a.noCache&&(e+="?noCache"+Date.now()),!1===o)return syncReq=n.send(e,a.data||"",function(){},t,!1,a.headers),syncReq.responseText?JSON.parse(syncReq.responseText):200===syncReq.status;r.push({url:e,data:a.data||"",callback:o,method:t,headers:a.headers})}r={requestInProgress:!1,maxRequests:3,requests:0,queue:[],push:function(t){this.queue.push(t),this.requests<this.maxRequests&&this.shift()},shift:function(){var t,e,r;t=this,r=(e=this.queue.splice(0,this.maxRequests-this.requests)).length,this.requests+=r,e.forEach(function(e){n.send(e.url,e.data,function(n,r){if(429===r)return setTimeout(function(){t.queue.push(e),t.shift()},200),!1;"function"==typeof e.callback&&(n?e.callback(JSON.parse(n)):200===r?e.callback(!0):e.callback(!1)),t.requests-=1,t.queue.length&&t.shift()},e.method,!0,e.headers)})}},(n={}).x=function(){var t,e,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(t=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],n=0;n<t.length;n++)try{e=new ActiveXObject(t[n]);break}catch(t){}return e},n.send=function(e,r,o,a,i,u){var s,c;if(i===t&&(i=!0),(s=n.x()).open(a,e,i),s.onreadystatechange=function(){4==s.readyState&&o(s.responseText,s.status)},"POST"===a||"PUT"===a){for(c in u)u.hasOwnProperty(c)&&s.setRequestHeader(c,u[c]);s.setRequestHeader("Content-type","application/x-www-form-urlencoded")}return s.send(r),s},e={getCurrency:o,getLang:a,setMaxRequests:function(t){r.maxRequests=t},noConflict:function(){return this},getVersion:function(){return"1.4.0"},compareVersion:function(t){var e;return(t=parseInt(t.replace(/\./g,"")))>(e=parseInt("1.1.0".replace(/\./g,"")))?1:t<e?-1:0},getDefaults:function(t,e){return e=e||t||{},u("GET","/webapi/front/shop/defaults/",t)},getCountries:function(t,e){return u("GET",i("/webapi/front/{lang}/countries/{id}/",e=e||t||{}),t)},getCountry:function(t,e){return u("GET",i("/webapi/front/{lang}/countries/{id}/",e=e||t||{}),t)},login:function(t,e){return(e=e||t||{}).headers={Authorization:"Basic "+btoa(e.data.username+":"+e.data.password)},e.data=null,u("POST",i("/webapi/front/{lang}/auth/login/",e),t,e)},logout:function(t,e){return u("POST",i("/webapi/front/{lang}/auth/logout/",e=e||t||{}),t,e)},remindPassword:function(t,e){return u("POST",i("/webapi/front/{lang}/auth/remind/",e=e||t||{}),t,e)},authStatus:function(t,e){return u("GET",i("/webapi/front/{lang}/auth/status/",e=e||t||{}),t,e)},getAFContactForm:function(t,e){return u("GET",i("/webapi/front/{lang}/additional-fields/contact-form/",e=e||t||{}),t,e)},getAFOrderOnLoggedUser:function(t,e){return u("GET",i("/webapi/front/{lang}/additional-fields/order-logged-on-user/",e=e||t||{}),t,e)},getAFOrderWithoutRegistration:function(t,e){return u("GET",i("/webapi/front/{lang}/additional-fields/order-without-registration/",e=e||t||{}),t,e)},getAFOrderWithRegistration:function(t,e){return u("GET",i("/webapi/front/{lang}/additional-fields/order-with-registration/",e=e||t||{}),t,e)},getAFUserRegistration:function(t,e){return u("GET",i("/webapi/front/{lang}/additional-fields/user-registration/",e=e||t||{}),t,e)},getAFUserAccount:function(t,e){return u("GET",i("/webapi/front/{lang}/additional-fields/user-account/",e=e||t||{}),t,e)},registerUser:function(t,e){return u("POST",i("/webapi/front/{lang}/user/register/",e=e||t||{}),t,e)},editUser:function(t,e){return u("PUT",i("/webapi/front/{lang}/user/",e=e||t||{}),t,e)},getUser:function(t,e){var n;return"interactive"!==document.readyState&&"complete"!==document.readyState||"1"!==(n=document.querySelectorAll("html")[0].getAttribute("data-fmc"))&&"2"!==n?u("GET",i("/webapi/front/{lang}/user/",e=e||t||{}),t,e):{}},getUserAddress:function(t,e){return u("GET",i("/webapi/front/{lang}/user/address/",e=e||t||{}),t,e)},addUserAddress:function(t,e){return u("POST",i("/webapi/front/{lang}/user/address/",e=e||t||{}),t,e)},removeUserAddress:function(t,e){return u("DELETE",i("/webapi/front/{lang}/user/address/{id}",e=e||t||{}),t,e)},editUserAddress:function(t,e){return u("PUT",i("/webapi/front/{lang}/user/address/{id}",e=e||t||{}),t,e)},getUserOrders:function(t,e){var n;return e=e||t||{},"interactive"!==document.readyState&&"complete"!==document.readyState||"1"!==(n=document.querySelectorAll("html")[0].getAttribute("data-fmc"))&&"2"!==n?u("GET",i("/webapi/front/{lang}/user/orders/{id}",e),t,e):{}},getLanguages:function(t,e){return u("GET",i("/webapi/front/{lang}/languages/{id}",e=e||t||{}),t,e)},getLanguage:function(t,e){return u("GET",i("/webapi/front/{lang}/languages/{id}",e=e||t||{}),t,e)},getCurrencies:function(t,e){return u("GET",i("/webapi/front/{lang}/currencies/{id}",e=e||t||{}),t,e)},getCurrency:function(t,e){return u("GET",i("/webapi/front/{lang}/currencies/{id}",e=e||t||{}),t,e)},getPages:function(t,e){return u("GET",i("/webapi/front/{lang}/pages/{id}",e=e||t||{}),t,e)},getNews:function(t,e){return u("GET",i("/webapi/front/{lang}/news/{id}",e=e||t||{}),t,e)},getMainNews:function(t,e){return u("GET",i("/webapi/front/{lang}/news/main/",e=e||t||{}),t,e)},getBoxNews:function(t,e){return u("GET",i("/webapi/front/{lang}/news/box",e=e||t||{}),t,e)},getProduct:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/{id}",e=e||t||{}),t,e)},getProductOption:function(t,e){return u("POST",i("/webapi/front/{lang}/products/{currency}/{id}/stock/",e=e||t||{}),t,e)},getProductOptionValues:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/{id}/options/"+(e=e||t||{}).ids.join(","),e),t,e)},getProductRelated:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/{id}/related/",e=e||t||{}),t,e)},getMainProducts:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/main/",e=e||t||{}),t,e)},getNewProducts:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/news/",e=e||t||{}),t,e)},getPotdProducts:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/day/",e=e||t||{}),t,e)},getPromotionProducts:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/promotions/",e=e||t||{}),t,e)},getBestsellersProducts:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/bestsellers/",e=e||t||{}),t,e)},search:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/search/{search}",e=e||t||{}),t,e)},getProducts:function(t,e){return(e=e||t||{}).ids.length>128&&(e.ids.length=128),u("GET",i("/webapi/front/{lang}/products/{currency}/list/"+e.ids.join(","),e),t,e)},getProductsList:function(t,e){return u("GET",i("/webapi/front/{lang}/products/{currency}/list/",e=e||t||{}),t,e)},getLoyaltyProducts:function(t,e){return u("GET",i("/webapi/front/{lang}/loyalty/{currency}/products/",e=e||t||{}),t,e)},getLoyaltyProductsAvailableForUser:function(t,e){return u("GET",i("/webapi/front/{lang}/loyalty/{currency}/products/user/",e=e||t||{}),t,e)},getProductsFromCategory:function(t,e){return u("GET",i("/webapi/front/{lang}/categories/{id}/products/{currency}/",e=e||t||{}),t,e)},getFiltersFromCategory:function(t,e){return u("GET",i("/webapi/front/{lang}/categories/{id}/filters/{currency}/",e=e||t||{}),t,e)},getRootCategoryTree:function(t,e){return u("GET",i("/webapi/front/{lang}/categories/main/",e=e||t||{}),t,e)},getCategoryChildrens:function(t,e){return u("GET",i("/webapi/front/{lang}/categories/{id}/children/",e=e||t||{}),t,e)},getCategoryTree:function(t,e){return u("GET",i("/webapi/front/{lang}/categories/{id}/tree/",e=e||t||{}),t,e)},getCategory:function(t,e){return u("GET",i("/webapi/front/{lang}/categories/{id}/",e=e||t||{}),t,e)},getCategoryList:function(t,e){return u("GET",i("/webapi/front/{lang}/categories/list/",e=e||t||{}),t,e)},getCategories:function(t,e){return u("GET",i("/webapi/front/{lang}/categories/tree/",e=e||t||{}),t,e)},getCollectionList:function(t,e){return u("GET",i("/webapi/front/{lang}/collections/list/",e=e||t||{}),t,e)},getProductsFromCollection:function(t,e){return u("GET",i("/webapi/front/{lang}/collections/{id}/products/{currency}/",e=e||t||{}),t,e)},getBasketInfo:function(t,e){return u("GET",i("/webapi/front/{lang}/basket/{currency}/",e=e||t||{}),t,e)},getBasketFeaturedSubpayments:(t,e)=>u("POST",i("/webapi/front/{lang}/payment-onlinepayment/gateway/{id}/",e=e||t||{}),t,e),addToBasket:function(t,e){return u("POST",i("/webapi/front/{lang}/basket/{currency}/",e=e||t||{}),t,e)},loyaltyAddToBasket:function(t,e){return u("POST",i("/webapi/front/{lang}/basket/{currency}/exchange/",e=e||t||{}),t,e)},setBasketInfo:function(t,e){return u("PUT",i("/webapi/front/{lang}/basket/{currency}/",e=e||t||{}),t,e)},removeFromBasket:function(t,e){return u("DELETE",i("/webapi/front/{lang}/basket/{currency}/{id}/",e=e||t||{}),t,e)},editBasketProductQuantity:function(t,e){return u("PUT",i("/webapi/front/{lang}/basket/{currency}/{id}/",e=e||t||{}),t,e)},submitOrder:function(t,e){return u("POST",i("/webapi/front/{lang}/basket/{currency}/order/",e=e||t||{}),t,e)},getPaczkomaty:function(t,e){return u("GET",i("/webapi/front/{lang}/basket/paczkomaty/",e=e||t||{}),t,e)},getRegions:function(t,e){return u("GET",i("/webapi/front/{lang}/countries/{id}/regions",e=e||t||{}),t,e)},getRegion:function(t,e){return u("GET",i("/webapi/front/{lang}/countries/"+(e=e||t||{}).country_id+"/regions/{id}",e),t,e)},getPage:function(t,e){return u("GET",i("/webapi/front/{lang}/pages/{id}",e=e||t||{}),t,e)}};var s=document.createEvent("HTMLEvents");return s.initEvent("frontAPIReady",!1,!0),window.frontAPI=e,document.dispatchEvent(s),e});